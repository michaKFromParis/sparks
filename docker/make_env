# constants
IMAGE_NAME=sparks-builder
# default build output directory
ROOT_DIRECTORY=$(CURDIR)/..
# default build output directory
SPARKS_EXECUTABLE=$(ROOT_DIRECTORY)/build/linux/sparks
# sparks sdk root directory
SPARKS_SDK_ROOT?=$(HOME)/Sources/Sparks
# sparks build root directory
BUILD_ROOT?=$(ROOT_DIRECTORY)/build/player

PREBUILD=\
cp $(SPARKS_EXECUTABLE) .

POSTBUILD=\
rm -f sparks

PRERUN=\
mkdir -p $(BUILD_ROOT)

POSTRUN=\
du -hs $(BUILD_ROOT)/* | sed 's|$(BUILD_ROOT)/||'

RUNARGS=bash -c "sparks build --v --linux /sparks"

VOLUMES=\
-v "$(SPARKS_SDK_ROOT)":/sparks	\
-v "$(BUILD_ROOT)":/build
